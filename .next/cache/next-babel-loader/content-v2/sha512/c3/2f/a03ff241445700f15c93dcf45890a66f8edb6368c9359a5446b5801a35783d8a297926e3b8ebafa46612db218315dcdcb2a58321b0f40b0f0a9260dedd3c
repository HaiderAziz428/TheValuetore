{"ast":null,"code":"var _jsxFileName = \"/Users/michaeldaineka/Desktop/flatlogic/flatlogic-ecommerce/components/admin/BreadcrumbHistory/BreadcrumbHistory.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { Breadcrumb, BreadcrumbItem } from \"reactstrap\";\nimport uuid from \"uuid/v4\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\n\nconst BreadcrumbHistory = ({\n  url\n}) => {\n  const router = useRouter();\n\n  const renderBreadCrumbs = () => {\n    const [route, setRoute] = React.useState([]);\n    React.useEffect(() => {\n      if (router.pathname.includes(\"products\")) {\n        const {\n          id\n        } = router.query;\n        axios.get(`/products/${id}`).then(res => {\n          setRoute([\"products\", res.data.categories[0].title[0].toUpperCase() + res.data.categories[0].title.slice(1), res.data.title]);\n        });\n      } else {\n        if (router.pathname.includes(\"category\")) {\n          var {\n            categoryName\n          } = router.query;\n        }\n\n        const newUrl = url.split(\"/\").slice(1).map((route, index) => {\n          console.log(route);\n\n          if (router.pathname.includes(\"category\") && index === 1) {\n            return categoryName[0].toUpperCase() + categoryName.slice(1);\n          } else {\n            return route[0].toUpperCase() + route.slice(1);\n          } // return route\n          //     .split(\" \")\n          //     .map((word, index) => {\n          //\n          //       if (router.pathname.includes(\"category\") && index === 1) {\n          //         return categoryName;\n          //       }\n          //       return word[0].toUpperCase() + word.slice(1);\n          //     })\n          //     .join(\" \")\n\n        });\n        setRoute(newUrl);\n      }\n    }, [router]);\n    const length = route.length;\n    return route.map((item, index) => {\n      let middlewareUrl = \"/\" + url.split(\"/\").slice(1, index + 2).join(\"/\");\n\n      if (router.pathname.includes(\"products\") && index === 0) {\n        middlewareUrl = \"/shop\";\n      } else if (router.pathname.includes(\"products\") && index === 1) {\n        middlewareUrl = `/category/${route[1][0].toLowerCase() + route[1].slice(1)}`;\n      }\n\n      return __jsx(BreadcrumbItem, {\n        key: uuid(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, length === index + 1 ? item : __jsx(Link, {\n        href: middlewareUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, item));\n    });\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(Breadcrumb, {\n    tag: \"nav\",\n    listTag: \"div\",\n    style: {\n      marginTop: router.pathname.includes(\"admin\") ? 0 : 85,\n      borderBottom: \"1px solid #d9d9d9\",\n      marginBottom: router.pathname.includes(\"admin\") ? 32 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, renderBreadCrumbs()));\n};\n\nexport default BreadcrumbHistory;","map":{"version":3,"sources":["/Users/michaeldaineka/Desktop/flatlogic/flatlogic-ecommerce/components/admin/BreadcrumbHistory/BreadcrumbHistory.js"],"names":["React","Component","Breadcrumb","BreadcrumbItem","uuid","Link","useRouter","axios","BreadcrumbHistory","url","router","renderBreadCrumbs","route","setRoute","useState","useEffect","pathname","includes","id","query","get","then","res","data","categories","title","toUpperCase","slice","categoryName","newUrl","split","map","index","console","log","length","item","middlewareUrl","join","toLowerCase","marginTop","borderBottom","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Breadcrumb, BreadcrumbItem } from \"reactstrap\";\nimport uuid from \"uuid/v4\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\n\nconst BreadcrumbHistory = ({ url }) => {\n  const router = useRouter();\n\n  const renderBreadCrumbs = () => {\n    const [route, setRoute] = React.useState([]);\n    React.useEffect(() => {\n      if (router.pathname.includes(\"products\")) {\n        const { id } = router.query;\n        axios.get(`/products/${id}`).then((res) => {\n          setRoute([\n            \"products\",\n            res.data.categories[0].title[0].toUpperCase() +\n              res.data.categories[0].title.slice(1),\n            res.data.title,\n          ]);\n        });\n      } else {\n        if (router.pathname.includes(\"category\")) {\n          var { categoryName } = router.query;\n        }\n        const newUrl = url\n          .split(\"/\")\n          .slice(1)\n          .map((route, index) => {\n            console.log(route);\n            if (router.pathname.includes(\"category\") && index === 1) {\n              return categoryName[0].toUpperCase() + categoryName.slice(1);\n            } else {\n              return route[0].toUpperCase() + route.slice(1);\n            }\n            // return route\n            //     .split(\" \")\n            //     .map((word, index) => {\n            //\n            //       if (router.pathname.includes(\"category\") && index === 1) {\n            //         return categoryName;\n            //       }\n            //       return word[0].toUpperCase() + word.slice(1);\n            //     })\n            //     .join(\" \")\n          });\n        setRoute(newUrl);\n      }\n    }, [router]);\n    const length = route.length;\n    return route.map((item, index) => {\n      let middlewareUrl =\n        \"/\" +\n        url\n          .split(\"/\")\n          .slice(1, index + 2)\n          .join(\"/\");\n      if (router.pathname.includes(\"products\") && index === 0) {\n        middlewareUrl = \"/shop\";\n      } else if (router.pathname.includes(\"products\") && index === 1) {\n        middlewareUrl = `/category/${\n          route[1][0].toLowerCase() + route[1].slice(1)\n        }`;\n      }\n      return (\n        <BreadcrumbItem key={uuid()}>\n          {length === index + 1 ? (\n            item\n          ) : (\n            <Link href={middlewareUrl}>{item}</Link>\n          )}\n        </BreadcrumbItem>\n      );\n    });\n  };\n  return (\n    <div>\n      <Breadcrumb\n        tag=\"nav\"\n        listTag=\"div\"\n        style={{\n          marginTop: router.pathname.includes(\"admin\") ? 0 : 85,\n          borderBottom: \"1px solid #d9d9d9\",\n          marginBottom: router.pathname.includes(\"admin\") ? 32 : 0,\n        }}\n      >\n        {renderBreadCrumbs()}\n      </Breadcrumb>\n    </div>\n  );\n};\n\nexport default BreadcrumbHistory;\n"]},"metadata":{},"sourceType":"module"}