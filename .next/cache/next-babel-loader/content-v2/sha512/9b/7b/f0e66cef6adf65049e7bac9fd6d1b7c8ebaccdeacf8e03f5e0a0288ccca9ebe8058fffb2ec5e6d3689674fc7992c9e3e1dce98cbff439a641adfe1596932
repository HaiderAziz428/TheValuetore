{"ast":null,"code":"import _slicedToArray from \"/Users/michaeldaineka/Desktop/flatlogic/flatlogic-ecommerce/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/michaeldaineka/Desktop/flatlogic/flatlogic-ecommerce/components/admin/BreadcrumbHistory/BreadcrumbHistory.js\",\n    _this = this,\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { Breadcrumb, BreadcrumbItem } from \"reactstrap\";\nimport uuid from \"uuid/v4\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\n\nvar BreadcrumbHistory = function BreadcrumbHistory(_ref) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  var url = _ref.url;\n  var router = useRouter();\n\n  var renderBreadCrumbs = function renderBreadCrumbs() {\n    _s();\n\n    var _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        route = _React$useState2[0],\n        setRoute = _React$useState2[1];\n\n    React.useEffect(function () {\n      if (router.pathname.includes(\"products\")) {\n        var id = router.query.id;\n        axios.get(\"/products/\".concat(id)).then(function (res) {\n          setRoute([\"products\", res.data.categories[0].title[0].toUpperCase() + res.data.categories[0].title.slice(1), res.data.title]);\n        });\n      } else {\n        if (router.pathname.includes(\"category\")) {\n          var categoryName = router.query.categoryName;\n        }\n\n        var newUrl = url.split(\"/\").slice(1).map(function (route, index) {\n          console.log(route);\n\n          if (router.pathname.includes(\"category\") && index === 1) {\n            return categoryName[0].toUpperCase() + categoryName.slice(1);\n          } else {\n            return route[0].toUpperCase() + route.slice(1);\n          } // return route\n          //     .split(\" \")\n          //     .map((word, index) => {\n          //\n          //       if (router.pathname.includes(\"category\") && index === 1) {\n          //         return categoryName;\n          //       }\n          //       return word[0].toUpperCase() + word.slice(1);\n          //     })\n          //     .join(\" \")\n\n        });\n        setRoute(newUrl);\n      }\n    }, [router]);\n    var length = route.length;\n    return route.map(function (item, index) {\n      var middlewareUrl = \"/\" + url.split(\"/\").slice(1, index + 2).join(\"/\");\n\n      if (router.pathname.includes(\"products\") && index === 0) {\n        middlewareUrl = \"/shop\";\n      } else if (router.pathname.includes(\"products\") && index === 1) {\n        middlewareUrl = \"/category/\".concat(route[1][0].toLowerCase() + route[1].slice(1));\n      }\n\n      return __jsx(BreadcrumbItem, {\n        key: uuid(),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, length === index + 1 ? item : __jsx(Link, {\n        href: middlewareUrl,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, item));\n    });\n  };\n\n  _s(renderBreadCrumbs, \"jZbbfqU19b1GWrl8Y2ffJxb256M=\");\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(Breadcrumb, {\n    tag: \"nav\",\n    listTag: \"div\",\n    style: {\n      marginTop: router.pathname.includes(\"admin\") ? 0 : 85,\n      borderBottom: \"1px solid #d9d9d9\",\n      marginBottom: router.pathname.includes(\"admin\") ? 32 : 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, renderBreadCrumbs()));\n};\n\n_s2(BreadcrumbHistory, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = BreadcrumbHistory;\nexport default BreadcrumbHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"BreadcrumbHistory\");","map":{"version":3,"sources":["/Users/michaeldaineka/Desktop/flatlogic/flatlogic-ecommerce/components/admin/BreadcrumbHistory/BreadcrumbHistory.js"],"names":["React","Component","Breadcrumb","BreadcrumbItem","uuid","Link","useRouter","axios","BreadcrumbHistory","url","router","renderBreadCrumbs","useState","route","setRoute","useEffect","pathname","includes","id","query","get","then","res","data","categories","title","toUpperCase","slice","categoryName","newUrl","split","map","index","console","log","length","item","middlewareUrl","join","toLowerCase","marginTop","borderBottom","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Breadcrumb, BreadcrumbItem } from \"reactstrap\";\nimport uuid from \"uuid/v4\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\n\nconst BreadcrumbHistory = ({ url }) => {\n  const router = useRouter();\n\n  const renderBreadCrumbs = () => {\n    const [route, setRoute] = React.useState([]);\n    React.useEffect(() => {\n      if (router.pathname.includes(\"products\")) {\n        const { id } = router.query;\n        axios.get(`/products/${id}`).then((res) => {\n          setRoute([\n            \"products\",\n            res.data.categories[0].title[0].toUpperCase() +\n              res.data.categories[0].title.slice(1),\n            res.data.title,\n          ]);\n        });\n      } else {\n        if (router.pathname.includes(\"category\")) {\n          var { categoryName } = router.query;\n        }\n        const newUrl = url\n          .split(\"/\")\n          .slice(1)\n          .map((route, index) => {\n            console.log(route);\n            if (router.pathname.includes(\"category\") && index === 1) {\n              return categoryName[0].toUpperCase() + categoryName.slice(1);\n            } else {\n              return route[0].toUpperCase() + route.slice(1);\n            }\n            // return route\n            //     .split(\" \")\n            //     .map((word, index) => {\n            //\n            //       if (router.pathname.includes(\"category\") && index === 1) {\n            //         return categoryName;\n            //       }\n            //       return word[0].toUpperCase() + word.slice(1);\n            //     })\n            //     .join(\" \")\n          });\n        setRoute(newUrl);\n      }\n    }, [router]);\n    const length = route.length;\n    return route.map((item, index) => {\n      let middlewareUrl =\n        \"/\" +\n        url\n          .split(\"/\")\n          .slice(1, index + 2)\n          .join(\"/\");\n      if (router.pathname.includes(\"products\") && index === 0) {\n        middlewareUrl = \"/shop\";\n      } else if (router.pathname.includes(\"products\") && index === 1) {\n        middlewareUrl = `/category/${\n          route[1][0].toLowerCase() + route[1].slice(1)\n        }`;\n      }\n      return (\n        <BreadcrumbItem key={uuid()}>\n          {length === index + 1 ? (\n            item\n          ) : (\n            <Link href={middlewareUrl}>{item}</Link>\n          )}\n        </BreadcrumbItem>\n      );\n    });\n  };\n  return (\n    <div>\n      <Breadcrumb\n        tag=\"nav\"\n        listTag=\"div\"\n        style={{\n          marginTop: router.pathname.includes(\"admin\") ? 0 : 85,\n          borderBottom: \"1px solid #d9d9d9\",\n          marginBottom: router.pathname.includes(\"admin\") ? 32 : 0,\n        }}\n      >\n        {renderBreadCrumbs()}\n      </Breadcrumb>\n    </div>\n  );\n};\n\nexport default BreadcrumbHistory;\n"]},"metadata":{},"sourceType":"module"}